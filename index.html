<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timer with Local Storage</title>
</head>
<body>

    <h1>Countdown Timer</h1>
    <div>
        <button id="startButton">Start Timer</button>
        <button id="pauseButton">Pause Timer</button>
        <p id="timerDisplay">00:00</p>
    </div>

    <script>
        // Lấy các phần tử trong HTML
        const timerDisplay = document.getElementById('timerDisplay');
        const startButton = document.getElementById('startButton');
        const pauseButton = document.getElementById('pauseButton');

        let timer; // Timer ID
        let timeLeft = 0; // Thời gian còn lại (số giây)
        let isRunning = false; // Trạng thái đồng hồ

        // Kiểm tra xem có dữ liệu lưu trữ trước đó trong Local Storage không
        if(localStorage.getItem('timeLeft')) {
            timeLeft = parseInt(localStorage.getItem('timeLeft'));
            updateDisplay();
        }

        // Cập nhật hiển thị đồng hồ
        function updateDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${minutes < 10 ? '0' : ''}${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
        }

        // Bắt đầu đồng hồ
        function startTimer() {
            if(isRunning) return;
            isRunning = true;

            timer = setInterval(() => {
                if(timeLeft > 0) {
                    timeLeft--;
                    localStorage.setItem('timeLeft', timeLeft); // Lưu trạng thái vào Local Storage
                    updateDisplay();
                } else {
                    clearInterval(timer);
                    isRunning = false;
                }
            }, 1000);
        }

        // Tạm dừng đồng hồ
        function pauseTimer() {
            clearInterval(timer);
            isRunning = false;
        }

        // Gắn sự kiện cho nút Start
        startButton.addEventListener('click', startTimer);

        // Gắn sự kiện cho nút Pause
        pauseButton.addEventListener('click', pauseTimer);
    </script>
</body>
</html>
